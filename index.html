<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tactical RPG - PixiJS Enhanced</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="gameContainer">
        <!-- Loading screen -->
        <div id="loadingScreen">
            <div class="spinner"></div>
            <h2>Loading Enhanced Graphics...</h2>
            <p>Initializing PixiJS Engine</p>
        </div>

        <!-- PixiJS canvas will be inserted here automatically -->
        
        <!-- UI Overlay -->
        <div id="ui">
            <!-- HUD -->
            <div id="hud">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="font-size: 18px; margin-right: 10px;">🗡️</span>
                    <div>
                        <strong>Hero - Level <span id="playerLevel">1</span></strong><br>
                        <div style="font-size: 11px;">Area: <span id="currentArea">Training Grounds</span></div>
                    </div>
                </div>
                
                <div>
                    HP: <span id="playerHp">100</span>/<span id="playerMaxHp">100</span>
                    <div class="health-bar">
                        <div class="health-fill" id="healthFill" style="width: 100%"></div>
                    </div>
                </div>
                
                <div>
                    MP: <span id="playerMp">50</span>/<span id="playerMaxMp">50</span>
                    <div class="mp-bar">
                        <div class="mp-fill" id="mpFill" style="width: 100%"></div>
                    </div>
                </div>
                
                <div style="margin-top: 10px;">
                    <strong>Inventory:</strong>
                    <div class="inventory-grid" id="inventoryGrid"></div>
                </div>
            </div>

            <div id="controls">
              <strong>🎮 CONTROLS</strong><br>
              Mouse - Drag & Drop items<br>
              Click - Interact with objects<br>
              I - Toggle Inventory mode<br>
              ESC - Menu<br><br>
              <strong>🎯 Navigation:</strong><br>
              📋 Menu - Game options<br>
              🎒 Inventory - Manage items<br>
              🌍 World - Explore & battle<br>
              ⚔️ Battle - Combat testing<br><br>
              <strong>🎨 Features:</strong><br>
              🔮 Enhanced graphics<br>
              ✨ Particle effects<br>
              💫 Glow & lighting<br>
              🎨 Smooth animations
          </div>

            <!-- Game Mode Display -->
            <button id="gameMode">🎒 INVENTORY</button>

            <!-- Navigation Buttons -->
            <div class="nav-buttons">
              <button class="nav-button" id="menuBtn">📋 Menu</button>
              <button class="nav-button active" id="inventoryBtn">🎒 Inventory</button>
              <button class="nav-button" id="worldBtn">🌍 World</button>
              <button class="nav-button" id="battleBtn">⚔️ Battle</button>
            </div>

            <!-- Battle UI -->
            <div id="battleUI">
                <h2 style="text-align: center; margin-bottom: 20px;">⚔️ BATTLE!</h2>
                
                <div style="display: flex; gap: 20px; margin-bottom: 20px;">
                    <div style="flex: 1;">
                        <h3>🛡️ You</h3>
                        <div>HP: <span id="battlePlayerHp">100</span>/<span id="battlePlayerMaxHp">100</span></div>
                        <div class="health-bar"><div class="health-fill" id="battlePlayerHealthFill"></div></div>
                        <div>MP: <span id="battlePlayerMp">50</span>/<span id="battlePlayerMaxMp">50</span></div>
                        <div class="mp-bar"><div class="mp-fill" id="battlePlayerMpFill"></div></div>
                    </div>
                    
                    <div style="flex: 1;">
                        <h3 id="enemyName">👹 Enemy</h3>
                        <div>HP: <span id="enemyHp">80</span>/<span id="enemyMaxHp">80</span></div>
                        <div class="health-bar"><div class="health-fill" id="enemyHealthFill"></div></div>
                    </div>
                </div>

                <div id="battleLog"></div>

                <div style="text-align: center;">
                    <button class="battle-button" onclick="battleAction('attack')">⚔️ Attack</button>
                    <button class="battle-button" onclick="battleAction('magic')" id="magicBtn">✨ Magic (10 MP)</button>
                    <button class="battle-button" onclick="battleAction('heal')" id="healBtn">💖 Heal (8 MP)</button>
                    <button class="battle-button" onclick="battleAction('flee')">🏃 Flee</button>
                </div>
            </div>

            <!-- Debug Info -->
            <div id="debugInfo">
                <div>Mouse: <span id="mousePos">0, 0</span></div>
                <div>FPS: <span id="fps">60</span></div>
                <div>Game State: <span id="gameState">Initializing</span></div>
                <div>Engine: <span id="engineState">PixiJS Loading</span></div>
            </div>
        </div>
    </div>

    <!-- PixiJS CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    
    <!-- Your game modules -->
    <script type="module" src="src/main.js"></script>
</body>
</html>