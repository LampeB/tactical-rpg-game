[gd_resource type="Resource" script_class="PassiveTreeData" load_steps=24 format=3]

[ext_resource type="Script" path="res://scripts/resources/passive_tree_data.gd" id="1"]
[ext_resource type="Script" path="res://scripts/resources/passive_node_data.gd" id="2"]
[ext_resource type="Script" path="res://scripts/resources/stat_modifier.gd" id="3"]

; --- Stat Modifiers ---
[sub_resource type="Resource" id="mod_mp_10"]
script = ExtResource("3")
stat = 1
modifier_type = 0
value = 10.0

[sub_resource type="Resource" id="mod_sdef_2"]
script = ExtResource("3")
stat = 7
modifier_type = 0
value = 2.0

[sub_resource type="Resource" id="mod_mp_5pct"]
script = ExtResource("3")
stat = 1
modifier_type = 1
value = 5.0

[sub_resource type="Resource" id="mod_satk_3"]
script = ExtResource("3")
stat = 6
modifier_type = 0
value = 3.0

[sub_resource type="Resource" id="mod_mp_15pct"]
script = ExtResource("3")
stat = 1
modifier_type = 1
value = 15.0

[sub_resource type="Resource" id="mod_satk_5pct"]
script = ExtResource("3")
stat = 6
modifier_type = 1
value = 5.0

[sub_resource type="Resource" id="mod_critdmg_10pct"]
script = ExtResource("3")
stat = 9
modifier_type = 1
value = 10.0

[sub_resource type="Resource" id="mod_satk_20pct"]
script = ExtResource("3")
stat = 6
modifier_type = 1
value = 20.0

; --- Nodes ---
[sub_resource type="Resource" id="node_focus"]
script = ExtResource("2")
id = "m_focus"
display_name = "Focus"
description = "Expand your mana reserves."
stat_modifiers = [SubResource("mod_mp_10")]
gold_cost = 50
position = Vector2(300, 500)

[sub_resource type="Resource" id="node_ward"]
script = ExtResource("2")
id = "m_ward"
display_name = "Ward"
description = "Magical protection hardens your mind."
stat_modifiers = [SubResource("mod_sdef_2")]
gold_cost = 50
position = Vector2(500, 500)

[sub_resource type="Resource" id="node_clarity"]
script = ExtResource("2")
id = "m_clarity"
display_name = "Clarity"
description = "Deepens mana flow."
stat_modifiers = [SubResource("mod_mp_5pct")]
gold_cost = 75
prerequisites = ["m_focus"]
position = Vector2(250, 400)

[sub_resource type="Resource" id="node_brilliance"]
script = ExtResource("2")
id = "m_brilliance"
display_name = "Brilliance"
description = "Sharpen your magical aptitude."
stat_modifiers = [SubResource("mod_satk_3")]
gold_cost = 75
prerequisites = ["m_ward"]
position = Vector2(550, 400)

[sub_resource type="Resource" id="node_barrier"]
script = ExtResource("2")
id = "m_barrier"
display_name = "Barrier"
description = "Start each battle with a magical shield."
special_effect_id = "start_shield"
gold_cost = 100
prerequisites = ["m_clarity"]
position = Vector2(200, 300)

[sub_resource type="Resource" id="node_insight"]
script = ExtResource("2")
id = "m_insight"
display_name = "Insight"
description = "Greatly boosts magical power."
stat_modifiers = [SubResource("mod_satk_5pct")]
gold_cost = 100
prerequisites = ["m_brilliance"]
position = Vector2(600, 300)

[sub_resource type="Resource" id="node_deep_pool"]
script = ExtResource("2")
id = "m_deep_pool"
display_name = "Deep Pool"
description = "Massively expands mana capacity."
stat_modifiers = [SubResource("mod_mp_15pct")]
gold_cost = 150
prerequisites = ["m_barrier"]
position = Vector2(200, 200)

[sub_resource type="Resource" id="node_focused_mind"]
script = ExtResource("2")
id = "m_focused_mind"
display_name = "Focused Mind"
description = "Critical hits deal more damage."
stat_modifiers = [SubResource("mod_critdmg_10pct")]
gold_cost = 150
prerequisites = ["m_insight"]
position = Vector2(600, 200)

[sub_resource type="Resource" id="node_mana_surge"]
script = ExtResource("2")
id = "m_mana_surge"
display_name = "Mana Surge"
description = "Restore 3 MP at the start of each turn."
special_effect_id = "mana_regen"
gold_cost = 200
prerequisites = ["m_deep_pool"]
position = Vector2(250, 100)

[sub_resource type="Resource" id="node_first_strike"]
script = ExtResource("2")
id = "m_first_strike"
display_name = "First Strike"
description = "Act first in the opening round of combat."
special_effect_id = "first_strike"
gold_cost = 200
prerequisites = ["m_focused_mind"]
position = Vector2(550, 100)

[sub_resource type="Resource" id="node_archmage"]
script = ExtResource("2")
id = "m_archmage"
display_name = "Archmage"
description = "Master of the arcane arts."
stat_modifiers = [SubResource("mod_satk_20pct")]
gold_cost = 500
prerequisites = ["m_mana_surge", "m_first_strike"]
position = Vector2(400, 30)

[resource]
script = ExtResource("1")
character_id = "mage"
display_name = "Mage's Path"
nodes = [SubResource("node_focus"), SubResource("node_ward"), SubResource("node_clarity"), SubResource("node_brilliance"), SubResource("node_barrier"), SubResource("node_insight"), SubResource("node_deep_pool"), SubResource("node_focused_mind"), SubResource("node_mana_surge"), SubResource("node_first_strike"), SubResource("node_archmage")]
